"use strict";(self.webpackChunkkts_frontend_project=self.webpackChunkkts_frontend_project||[]).push([[203],{5203:(r,e,t)=>{t.r(e),t.d(e,{default:()=>b});var o=t(4848),s=t(5303),i=t(5974),a=t(7813),n=t(2385);const l=function(){function r(){this._email="",this._emailError="",this._password="",this._passwordError="",(0,a.Gn)(this,{_email:a.sH,_emailError:a.sH,_password:a.sH,_passwordError:a.sH,email:a.EW,emailError:a.EW,password:a.EW,passwordError:a.EW,setEmail:a.XI.bound,setPassword:a.XI.bound,validateEmail:a.XI,validatePassword:a.XI,isValid:a.XI,login:a.XI})}return Object.defineProperty(r.prototype,"email",{get:function(){return this._email},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"emailError",{get:function(){return this._emailError},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"password",{get:function(){return this._password},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"passwordError",{get:function(){return this._passwordError},enumerable:!1,configurable:!0}),r.prototype.setEmail=function(r){this._emailError&&(this._emailError=""),this._email=r},r.prototype.setPassword=function(r){this._passwordError&&(this._passwordError=""),this._password=r},r.prototype.validateEmail=function(){if(this._email.trim()){if((0,i.mi)(this._email))return!0;this._emailError="Неверный формат"}else this._emailError="Введите почту"},r.prototype.validatePassword=function(){if(this._password.trim())if((0,i.Vg)(this._password.trim())){if(!(this._password.trim().length<4))return!0;this._passwordError="Пароль должен иметь минимум 4 символа"}else this._passwordError="Пароль должен состоять только из латинских букв и цифр";else this._passwordError="Введите пароль"},r.prototype.isValid=function(){var r=this.validateEmail(),e=this.validatePassword();return r&&e},r.prototype.login=function(){return r=this,e=void 0,o=function(){return function(r,e){var t,o,s,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=n(0),a.throw=n(1),a.return=n(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function n(n){return function(l){return function(n){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,n[0]&&(i=0)),i;)try{if(t=1,o&&(s=2&n[0]?o.return:n[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return i.label++,{value:n[1],done:!1};case 5:i.label++,o=n[1],n=[0];continue;case 7:n=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==n[0]&&2!==n[0])){i=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){i.label=n[1];break}if(6===n[0]&&i.label<s[1]){i.label=s[1],s=n;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(n);break}s[2]&&i.ops.pop(),i.trys.pop();continue}n=e.call(r,i)}catch(r){n=[6,r],o=0}finally{t=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,l])}}}(this,(function(r){switch(r.label){case 0:return this.isValid()?[4,n.A.user.loginUser(this._email,this._password)]:[2];case 1:return r.sent(),[2]}}))},new((t=void 0)||(t=Promise))((function(s,i){function a(r){try{l(o.next(r))}catch(r){i(r)}}function n(r){try{l(o.throw(r))}catch(r){i(r)}}function l(r){var e;r.done?s(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(a,n)}l((o=o.apply(r,e||[])).next())}));var r,e,t,o},r}();var u=t(3390),c=t(1058),p=t(2418),d=t(3443),f=t(6540),h=t(2389),m=t(7767);const w="KKISxnx_",b=(0,d.PA)((function(){var r=(0,d.iz)((function(){return new l})),e=(0,h.Bd)("login").t,t=(0,m.Zp)(),i=(0,f.useCallback)((function(e){e.preventDefault(),r.login()}),[r]),a=(0,f.useCallback)((function(){t(s.Vx.register.create())}),[t]),b=(0,f.useCallback)((function(){t(s.Vx.root)}),[t]);return(0,n.C)({t:e,store:n.A.user,onSuccess:b}),(0,o.jsx)("div",{className:"SPZ19hsB",children:(0,o.jsxs)("form",{className:"fq2mvO3b",onSubmit:i,noValidate:!0,children:[(0,o.jsx)(p.A,{className:"UPmvpJS7",tag:"h1",view:"title",children:e("Вход")}),(0,o.jsx)(c.A,{className:w,type:"email",value:r.email,onChange:r.setEmail,error:r.emailError?e(r.emailError):"",placeholder:e("Почта")}),(0,o.jsx)(c.A,{className:w,type:"password",value:r.password,onChange:r.setPassword,error:r.passwordError?e(r.passwordError):"",placeholder:e("Пароль")}),(0,o.jsx)(u.A,{className:"rgUQ2VXZ",theme:u.O.CLEAR,onClick:a,type:"button",children:e("Зарегистрироваться")}),(0,o.jsx)(u.A,{className:"oOll94cy",type:"submit",loading:n.A.user.isLoading,children:e("Войти")})]})})}))}}]);